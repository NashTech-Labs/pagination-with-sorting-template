{"ast":null,"code":"var _jsxFileName = \"/home/nitin/techhub-template/custom-paginated-table/src/common/table/table.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Table, Col, Row } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport \"./table.scss\";\nimport PaginationComponent from '../pagination/pagination';\n\nclass TableComponent extends Component {\n  constructor() {\n    super();\n\n    this.getHeader = () => {\n      return this.props.header.map(header => {\n        return /*#__PURE__*/React.createElement(\"th\", {\n          className: \"py-3 row-fonts\",\n          onClick: () => this.sortBy(header.key, header.dataType),\n          key: header.key,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }\n        }, header.value, this.state.arrow === true ? /*#__PURE__*/React.createElement(\"img\", {\n          style: {\n            color: \"#fff\"\n          },\n          className: \"ml-2\",\n          src: process.env.PUBLIC_URL + '/assets/images/asc.svg',\n          alt: \"ASC\",\n          height: \"15\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }\n        }) : /*#__PURE__*/React.createElement(\"img\", {\n          className: \"ml-2\",\n          src: process.env.PUBLIC_URL + '/assets/images/desc.svg',\n          alt: \"DESC\",\n          height: \"15\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }\n        }));\n      });\n    };\n\n    this.renderRowData = row => {\n      return this.props.header.map(({\n        key\n      }, index) => {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }\n        }, row[key])));\n      });\n    };\n\n    this.getBody = () => {\n      return this.state.pageOfItems.map((row, index) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          className: \"text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }\n        }, this.renderRowData(row, 1));\n      });\n    };\n\n    this.state = {\n      pageOfItems: [],\n      arrow: false\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n    this.compareByAsc = this.compareByAsc.bind(this);\n    this.compareByDesc = this.compareByDesc.bind(this);\n    this.sortBy = this.sortBy.bind(this);\n  }\n\n  compareByAsc(key, dataType) {\n    this.setState({\n      arrow: true\n    });\n    return function (a, b) {\n      if (dataType === 'float') {\n        a[key] = Number.parseFloat(a[key]);\n        b[key] = Number.parseFloat(b[key]);\n      }\n\n      if (a[key] < b[key]) return -1;\n      if (a[key] > b[key]) return 1;\n      return 0;\n    };\n  }\n\n  compareByDesc(key, dataType) {\n    this.setState({\n      arrow: false\n    });\n    return function (a, b) {\n      if (dataType === 'float') {\n        a[key] = Number.parseFloat(a[key]);\n        b[key] = Number.parseFloat(b[key]);\n      }\n\n      if (a[key] < b[key]) return 1;\n      if (a[key] > b[key]) return -1;\n      return 0;\n    };\n  }\n\n  sortBy(key, dataType) {\n    let arrayCopy = [...this.state.pageOfItems];\n    const arrInStr = JSON.stringify(arrayCopy);\n    arrayCopy.sort(this.compareByAsc(key, dataType));\n    const arrInStr1 = JSON.stringify(arrayCopy);\n\n    if (arrInStr === arrInStr1) {\n      arrayCopy.sort(this.compareByDesc(key, dataType));\n    }\n\n    this.setState({\n      pageOfItems: arrayCopy\n    });\n  }\n\n  onChangePage(pageOfItems) {\n    // update state with new page of items\n    this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-wrapper\",\n      style: {\n        maxHeight: this.props.height\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      className: \"m-0 table-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"sticky-header text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, this.getHeader())), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, this.getBody()))), /*#__PURE__*/React.createElement(Row, {\n      className: \"my-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PaginationComponent, {\n      items: this.props.body,\n      onChangePage: this.onChangePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nTableComponent.propTypes = {\n  header: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })),\n  body: PropTypes.any\n};\nexport default TableComponent;","map":{"version":3,"sources":["/home/nitin/techhub-template/custom-paginated-table/src/common/table/table.js"],"names":["React","Component","Fragment","Table","Col","Row","PropTypes","PaginationComponent","TableComponent","constructor","getHeader","props","header","map","sortBy","key","dataType","value","state","arrow","color","process","env","PUBLIC_URL","renderRowData","row","index","getBody","pageOfItems","onChangePage","bind","compareByAsc","compareByDesc","setState","a","b","Number","parseFloat","arrayCopy","arrInStr","JSON","stringify","sort","arrInStr1","render","maxHeight","height","body","propTypes","arrayOf","shape","string","isRequired","any"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Table, Col, Row } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport \"./table.scss\";\nimport PaginationComponent from '../pagination/pagination';\n\nclass TableComponent extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            pageOfItems: [],\n            arrow: false,\n        };\n        this.onChangePage = this.onChangePage.bind(this);\n        this.compareByAsc = this.compareByAsc.bind(this);\n        this.compareByDesc = this.compareByDesc.bind(this);\n        this.sortBy = this.sortBy.bind(this);\n    }\n\n\n    compareByAsc(key, dataType) {\n        this.setState({ arrow: true });\n        return function (a, b) {\n            if (dataType === 'float') {\n                a[key] = Number.parseFloat(a[key]);\n                b[key] = Number.parseFloat(b[key]);\n            }\n            if (a[key] < b[key]) return -1;\n            if (a[key] > b[key]) return 1;\n            return 0;\n        };\n    }\n\n    compareByDesc(key, dataType) {\n        this.setState({ arrow: false });\n        return function (a, b) {\n            if (dataType === 'float') {\n                a[key] = Number.parseFloat(a[key]);\n                b[key] = Number.parseFloat(b[key]);\n            }\n            if (a[key] < b[key]) return 1;\n            if (a[key] > b[key]) return -1;\n            return 0;\n        };\n    }\n\n    sortBy(key, dataType) {\n        let arrayCopy = [...this.state.pageOfItems];\n        const arrInStr = JSON.stringify(arrayCopy);\n        arrayCopy.sort(this.compareByAsc(key, dataType));\n        const arrInStr1 = JSON.stringify(arrayCopy);\n        if (arrInStr === arrInStr1) {\n            arrayCopy.sort(this.compareByDesc(key, dataType));\n        }\n        this.setState({ pageOfItems: arrayCopy });\n    }\n\n    getHeader = () => {\n        return this.props.header.map(header => {\n            return (\n                <th className=\"py-3 row-fonts\" onClick={() => this.sortBy(header.key, header.dataType)} key={header.key}>{header.value}\n                {(this.state.arrow === true) ?\n                    <img style={{ color: \"#fff\" }} className=\"ml-2\" src={process.env.PUBLIC_URL + '/assets/images/asc.svg'} alt='ASC' height=\"15\" /> :\n                    <img className=\"ml-2\" src={process.env.PUBLIC_URL + '/assets/images/desc.svg'} alt='DESC' height=\"15\" />}</th>\n        );\n        });\n    }\n\n\n    renderRowData = (row) => {\n        return this.props.header.map(({ key }, index) => {\n            return (\n                <td key={index}>\n                    <div className=\"item\">\n                        <span>{row[key]}</span>\n                    </div>\n                </td>\n            );\n        });\n    };\n\n    getBody = () => {\n        return this.state.pageOfItems.map((row, index) => {\n            return (\n                <tr key={index} className=\"text-center\">\n                    {this.renderRowData(row, 1)}\n                </tr>\n            );\n        });\n    }\n\n    onChangePage(pageOfItems) {\n        // update state with new page of items\n        this.setState({ pageOfItems: pageOfItems });\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <div className=\"table-wrapper\" style={{ maxHeight: this.props.height }}>\n                    <Table striped bordered className=\"m-0 table-component\">\n                        <thead className=\"sticky-header text-center\">\n                            <tr>\n                                {this.getHeader()}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.getBody()}\n                        </tbody>\n                    </Table>\n                </div>\n                <Row className=\"my-1\">\n                    <Col md=\"12\">\n                        <PaginationComponent items={this.props.body} onChangePage={this.onChangePage} />\n                    </Col>\n                </Row>\n            </Fragment>\n        );\n    }\n}\nTableComponent.propTypes = {\n    header: PropTypes.arrayOf(\n        PropTypes.shape({\n            key: PropTypes.string.isRequired,\n            value: PropTypes.string.isRequired\n        })\n    ),\n    body: PropTypes.any,\n};\nexport default TableComponent;\n"]},"metadata":{},"sourceType":"module"}