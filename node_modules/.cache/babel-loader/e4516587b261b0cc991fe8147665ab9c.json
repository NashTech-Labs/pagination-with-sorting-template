{"ast":null,"code":"var _jsxFileName = \"/home/nitin/techhub-template/custom-paginated-table/src/common/table/table.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Table, Col, Row } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport \"./table.scss\";\nimport PaginationComponent from '../pagination/pagination';\n\nclass TableComponent extends Component {\n  constructor() {\n    super();\n\n    this.getHeader = () => {\n      return this.props.header.map(header => {\n        return /*#__PURE__*/React.createElement(\"th\", {\n          onClick: () => this.sortBy(header.key, header.dataType),\n          key: header.key,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }\n        }, header.value, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-sort sort-color\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }\n        }));\n      });\n    };\n\n    this.renderRowData = row => {\n      return this.props.header.map(({\n        key\n      }, index) => {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"item\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }\n        }, row[key])));\n      });\n    };\n\n    this.getBody = () => {\n      return this.state.pageOfItems.map((row, index) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          className: \"text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }\n        }, this.renderRowData(row, 1));\n      });\n    };\n\n    this.state = {\n      pageOfItems: [],\n      arrow: false\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n    this.compareByAsc = this.compareByAsc.bind(this);\n    this.compareByDesc = this.compareByDesc.bind(this);\n    this.sortBy = this.sortBy.bind(this);\n  }\n\n  compareByAsc(key, dataType) {\n    this.setState({\n      arrow: true\n    });\n    return function (a, b) {\n      if (dataType === 'float') {\n        a[key] = Number.parseFloat(a[key]);\n        b[key] = Number.parseFloat(b[key]);\n      }\n\n      if (a[key] < b[key]) return -1;\n      if (a[key] > b[key]) return 1;\n      return 0;\n    };\n  }\n\n  compareByDesc(key, dataType) {\n    this.setState({\n      arrow: false\n    });\n    return function (a, b) {\n      if (dataType === 'float') {\n        a[key] = Number.parseFloat(a[key]);\n        b[key] = Number.parseFloat(b[key]);\n      }\n\n      if (a[key] < b[key]) return 1;\n      if (a[key] > b[key]) return -1;\n      return 0;\n    };\n  }\n\n  sortBy(key, dataType) {\n    let arrayCopy = [...this.state.pageOfItems];\n    const arrInStr = JSON.stringify(arrayCopy);\n    arrayCopy.sort(this.compareByAsc(key, dataType));\n    const arrInStr1 = JSON.stringify(arrayCopy);\n\n    if (arrInStr === arrInStr1) {\n      arrayCopy.sort(this.compareByDesc(key, dataType));\n    }\n\n    this.setState({\n      pageOfItems: arrayCopy\n    });\n  }\n\n  onChangePage(pageOfItems) {\n    // update state with new page of items\n    this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-wrapper\",\n      style: {\n        maxHeight: this.props.height\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      className: \"m-0 table-component\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"sticky-header text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, this.getHeader())), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, this.getBody()))), /*#__PURE__*/React.createElement(Row, {\n      className: \"my-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PaginationComponent, {\n      items: this.props.body,\n      onChangePage: this.onChangePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nTableComponent.propTypes = {\n  header: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })),\n  body: PropTypes.any\n};\nexport default TableComponent;","map":{"version":3,"sources":["/home/nitin/techhub-template/custom-paginated-table/src/common/table/table.js"],"names":["React","Component","Fragment","Table","Col","Row","PropTypes","PaginationComponent","TableComponent","constructor","getHeader","props","header","map","sortBy","key","dataType","value","renderRowData","row","index","getBody","state","pageOfItems","arrow","onChangePage","bind","compareByAsc","compareByDesc","setState","a","b","Number","parseFloat","arrayCopy","arrInStr","JSON","stringify","sort","arrInStr1","render","maxHeight","height","body","propTypes","arrayOf","shape","string","isRequired","any"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Table, Col, Row } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport \"./table.scss\";\nimport PaginationComponent from '../pagination/pagination';\n\nclass TableComponent extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            pageOfItems: [],\n            arrow: false,\n        };\n        this.onChangePage = this.onChangePage.bind(this);\n        this.compareByAsc = this.compareByAsc.bind(this);\n        this.compareByDesc = this.compareByDesc.bind(this);\n        this.sortBy = this.sortBy.bind(this);\n    }\n\n\n    compareByAsc(key, dataType) {\n        this.setState({ arrow: true });\n        return function (a, b) {\n            if (dataType === 'float') {\n                a[key] = Number.parseFloat(a[key]);\n                b[key] = Number.parseFloat(b[key]);\n            }\n            if (a[key] < b[key]) return -1;\n            if (a[key] > b[key]) return 1;\n            return 0;\n        };\n    }\n\n    compareByDesc(key, dataType) {\n        this.setState({ arrow: false });\n        return function (a, b) {\n            if (dataType === 'float') {\n                a[key] = Number.parseFloat(a[key]);\n                b[key] = Number.parseFloat(b[key]);\n            }\n            if (a[key] < b[key]) return 1;\n            if (a[key] > b[key]) return -1;\n            return 0;\n        };\n    }\n\n    sortBy(key, dataType) {\n        let arrayCopy = [...this.state.pageOfItems];\n        const arrInStr = JSON.stringify(arrayCopy);\n        arrayCopy.sort(this.compareByAsc(key, dataType));\n        const arrInStr1 = JSON.stringify(arrayCopy);\n        if (arrInStr === arrInStr1) {\n            arrayCopy.sort(this.compareByDesc(key, dataType));\n        }\n        this.setState({ pageOfItems: arrayCopy });\n    }\n\n    getHeader = () => {\n        return this.props.header.map(header => {\n            return (\n                <th onClick={() => this.sortBy(header.key, header.dataType)} key={header.key}>{header.value}\n                    <i className=\"fa fa-sort sort-color\"></i>\n                </th>\n            );\n        });\n    }\n\n\n    renderRowData = (row) => {\n        return this.props.header.map(({ key }, index) => {\n            return (\n                <td key={index}>\n                    <div className=\"item\">\n                        <span>{row[key]}</span>\n                    </div>\n                </td>\n            );\n        });\n    };\n\n    getBody = () => {\n        return this.state.pageOfItems.map((row, index) => {\n            return (\n                <tr key={index} className=\"text-center\">\n                    {this.renderRowData(row, 1)}\n                </tr>\n            );\n        });\n    }\n\n    onChangePage(pageOfItems) {\n        // update state with new page of items\n        this.setState({ pageOfItems: pageOfItems });\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <div className=\"table-wrapper\" style={{ maxHeight: this.props.height }}>\n                    <Table striped bordered className=\"m-0 table-component\">\n                        <thead className=\"sticky-header text-center\">\n                            <tr>\n                                {this.getHeader()}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.getBody()}\n                        </tbody>\n                    </Table>\n                </div>\n                <Row className=\"my-1\">\n                    <Col md=\"12\">\n                        <PaginationComponent items={this.props.body} onChangePage={this.onChangePage} />\n                    </Col>\n                </Row>\n            </Fragment>\n        );\n    }\n}\nTableComponent.propTypes = {\n    header: PropTypes.arrayOf(\n        PropTypes.shape({\n            key: PropTypes.string.isRequired,\n            value: PropTypes.string.isRequired\n        })\n    ),\n    body: PropTypes.any,\n};\nexport default TableComponent;\n"]},"metadata":{},"sourceType":"module"}